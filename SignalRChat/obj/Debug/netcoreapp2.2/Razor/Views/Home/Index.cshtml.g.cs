#pragma checksum "C:\Users\Smail\source\repos\SignalRChat\SignalRChat\Views\Home\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "186e30fdbd035bbafd1273e247e958b857988073"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Index), @"mvc.1.0.view", @"/Views/Home/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Home/Index.cshtml", typeof(AspNetCore.Views_Home_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Users\Smail\source\repos\SignalRChat\SignalRChat\Views\_ViewImports.cshtml"
using SignalRChat;

#line default
#line hidden
#line 2 "C:\Users\Smail\source\repos\SignalRChat\SignalRChat\Views\_ViewImports.cshtml"
using SignalRChat.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"186e30fdbd035bbafd1273e247e958b857988073", @"/Views/Home/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5ad428c8a3bf2d1f50c590e338e2703a8570a0fd", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/signalr/dist/browser/signalr.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/codecbase64.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/site.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 62, true);
            WriteLiteral("<!DOCTYPE html>\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n");
            EndContext();
            BeginContext(62, 689, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "186e30fdbd035bbafd1273e247e958b8579880734615", async() => {
                BeginContext(68, 129, true);
                WriteLiteral("\r\n    <script src=\"https://code.jquery.com/jquery-3.3.1.min.js\"></script>\r\n    <title>ASP.NET Core SignalR Stock Ticker</title>\r\n");
                EndContext();
                BeginContext(255, 489, true);
                WriteLiteral(@"    <script>
        $(document).ready(function () {

        });


    </script>
    <style>
        table {
            border: 0
        }

        .commslog-data {
            font-family: Consolas, Courier New, Courier, monospace;
        }

        .commslog-server {
            background-color: #d11141;
            color: white
        }

        .commslog-client {
            background-color: #00b159;
            color: white
        }
    </style>
");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(751, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(753, 18709, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "186e30fdbd035bbafd1273e247e958b8579880736535", async() => {
                BeginContext(759, 2278, true);
                WriteLiteral(@"
    <h1>ASP.NET Core SignalR Stock Ticker Sample</h1>

    <input type=""button"" id=""open"" value=""Open Market"" />
    <input type=""button"" id=""close"" value=""Close Market"" disabled=""disabled"" />
    <input type=""button"" id=""reset"" value=""Reset"" />

    <h2>Live Stock Table</h2>
    <div id=""stockTable"">
        <table border=""1"">
            <thead>
                <tr><th>Symbol</th><th>Price</th><th>Open</th><th>High</th><th>Low</th><th>Change</th><th>%</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <h2>Live Stock Ticker</h2>
    <div id=""stockTicker"">
        <div class=""inner"">
            <ul position=""absolute""></ul>
        </div>
    </div>
    <button id=""test"" type=""button"">Call Client method </button>
    <div class=""container"">
        <input type=""text"" id=""message"" />
        <input type=""button"" id=""sendmessage"" value=""Send"" />
        <ul id=""discussion""></ul>
    </div>

    <audio id=""audiotag"" controls>
        Your ");
                WriteLiteral(@"browser does not support the
        <code>audio</code> element.
    </audio>
    <button id=""audio_context"" type=""button"">Create audio context </button>
    <button id=""listen_desktop"" type=""button"">Listen to a friend's music </button>
    <button id=""stop_listen_desktop"" type=""button"">Stop listening </button>


    <p id=""statelabel""> State label</p>
    <h1>WebSocket Sample Application</h1>
    <p id=""stateLabel"">Ready to connect...</p>
    <div>
        <label for=""connectionUrl"">WebSocket Server URL:</label>
        <input id=""connectionUrl"" />
        <button id=""connectButton"" type=""submit"">Connect</button>
    </div>
    <p></p>
    <div>
        <label for=""sendMessage"">Message to send:</label>
        <input id=""sendMessage"" disabled />
        <button id=""sendButton"" type=""submit"" disabled>Send</button>
        <button id=""closeButton"" disabled>Close Socket</button>
    </div>

    <h2>Communication Log</h2>
    <table style=""width: 800px"">
        <thead>
            <tr");
                WriteLiteral(">\r\n                <td style=\"width: 100px\">From</td>\r\n                <td style=\"width: 100px\">To</td>\r\n                <td>Data</td>\r\n            </tr>\r\n        </thead>\r\n        <tbody id=\"commsLog\"></tbody>\r\n    </table>\r\n    ");
                EndContext();
                BeginContext(3037, 61, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "186e30fdbd035bbafd1273e247e958b8579880739374", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(3098, 2, true);
                WriteLiteral("\r\n");
                EndContext();
                BeginContext(3282, 4, true);
                WriteLiteral("    ");
                EndContext();
                BeginContext(3286, 43, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "186e30fdbd035bbafd1273e247e958b85798807310741", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(3329, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(3335, 36, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "186e30fdbd035bbafd1273e247e958b85798807311997", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(3371, 16084, true);
                WriteLiteral(@"
    <script type=""text/javascript"">


        //document.addEventListener('DOMContentLoaded', function () {
        $(document).ready(function () {
            var audioelement = document.getElementById('audiotag');
            //audioelement.src = encodedMsg;
            //audioelement.src = message;
            //audioelement.src = ""http://163.172.119.118:10780/;listen.ogg"";


            function init_audio_context() {
                if (!window.AudioContext) {
                    if (!window.webkitAudioContext) {
                        alert(""Your browser does not support any AudioContext and cannot play back this audio."");
                        return;
                    }
                    window.AudioContext = window.webkitAudioContext;
                }

                context = new AudioContext();
            }

            $('#audio_context').click(function () {

                //context = new (window.AudioContext || window.webkitAudioContext)();
                ");
                WriteLiteral(@"init_audio_context();
                console.log('created audio context ...');

            });

            function _base64ToArrayBuffer(base64) {
                var binary_string = window.atob(base64);
                var len = binary_string.length;
                var bytes = new Uint8Array(len);
                for (var i = 0; i < len; i++) {
                    bytes[i] = binary_string.charCodeAt(i);
                }
                return bytes.buffer;
            }
            var base64ToBuffer = function (buffer) {
                var binary = window.atob(buffer);
                var buffer = new ArrayBuffer(binary.length);
                var bytes = new Uint8Array(buffer);
                for (var i = 0; i < buffer.byteLength; i++) {
                    bytes[i] = binary.charCodeAt(i) & 0xFF;
                }
                return buffer;
            };

            function playByteArray(byteArray) {

                var arrayBuffer = new ArrayBuffer(byteArray.lengt");
                WriteLiteral(@"h);
                var bufferView = new Uint8Array(arrayBuffer);
                for (i = 0; i < byteArray.length; i++) {
                    bufferView[i] = byteArray[i];
                }

                context.decodeAudioData(arrayBuffer, function (buffer) {
                    buf = buffer;
                    play();
                });
            }

            // Play the loaded file
            function play() {
                // Create a source node from the buffer
                var source = context.createBufferSource();
                source.buffer = buf;
                // Connect to the final output node (the speakers)
                source.connect(context.destination);
                // Play immediately
                source.start(0);
            }
            var messageInput = document.getElementById('message');
            // Get the user name and store it to prepend to messages.
            var name = 'Server ';
            // Set initial focus to message i");
                WriteLiteral(@"nput box.
            messageInput.focus();
            // Start the connection.
            var connection = new signalR.HubConnectionBuilder()
                .withUrl('/chatHub')
                .build();
            // Create a function that the hub can call to broadcast messages.
            connection.on('broadcastMessage', function (name, message) {
                // Html encode display name and message.
                var encodedName = name;
                var encodedMsg = message;
                // Add the message to the page.
                var liElement = document.createElement('li');
                //liElement.innerHTML = '<strong>' + encodedName + '</strong>:&nbsp;&nbsp;' + encodedMsg;
                //document.getElementById('discussion').appendChild(liElement);
                var audioelement = document.getElementById('audiotag');
                //audioelement.src = encodedMsg;
                //audioelement.src = message;
                //audioelement.src = ""http://");
                WriteLiteral(@"163.172.119.118:10780/;listen.ogg"";
                console.log(""raw message : "" + message);
                console.log(""encoded message : "" + encodedMsg);


            });

            //var b = false;
            var context;    // Audio context
            var buf;        // Audio buffer
            var temp_buf = null;
            document.getElementById('stop_listen_desktop').onclick = function () {
                connection.invoke(""stop_listen_desktop_hub"");
                console.log(""stopped recording"");
                console.log(""length of temp_buf : "" + temp_buf.length);
                console.log(""type of temp_buff : "" + typeof temp_buf);
                var source = context.createBufferSource();
                var blob = window.atob(temp_buf),	// Base64 string converted to a char array
                    fLen = blob.length / Float32Array.BYTES_PER_ELEMENT,						// How many floats can be made, but be even
                    dView = new DataView(new ArrayBuffer(Float32Ar");
                WriteLiteral(@"ray.BYTES_PER_ELEMENT)),	// ArrayBuffer/DataView to convert 4 bytes into 1 float.
                    fAry = new Float32Array(fLen),											// Final Output at the correct size
                    p = 0;																// Position

                for (var j = 0; j < fLen; j++) {
                    p = j * 4;
                    dView.setUint8(0, blob.charCodeAt(p));
                    dView.setUint8(1, blob.charCodeAt(p + 1));
                    dView.setUint8(2, blob.charCodeAt(p + 2));
                    dView.setUint8(3, blob.charCodeAt(p + 3));
                    fAry[j] = dView.getFloat32(0, true);
                }
                //console.log(fAry)


                //console.log(""type of arraybuffer converted base64 : "" + typeof fAry);
                //test = new Float32Array(10);
                //console.log(""type of test : "" + typeof test);
                //context.decodeAudioData(test, function (buffer) {
                //    source.buffer = buffer;
                ");
                WriteLiteral(@"//    source.connect(context.destination);
                //    //source.start(0);
                //});
                //console.log(""first element of temp_buf : "" + temp_buf[0]);
                //var myArrayBuffer = context.createBuffer(2, context.sampleRate * 5, context.sampleRate);
                //temp_buf = base64ToBuffer(temp_buf);
                //temp_buf = Base64Binary.decodeArrayBuffer(temp_buf);
                //temp_buf = window.atob(temp_buf);
                //temp_buf = Base64Binary.decodeArrayBuffer(temp_buf);
                //temp_;
                //console.log(""type of temp_buff : "" + typeof temp_buf);
                try {
                    //var snd = new Audio(""data:audio/wav;base64,"" + temp_buf);
                    //snd.play();
                    //var audioelement = document.getElementById('audiotag');
                    //audioelement.src = ""data:audio/mpeg;base64,"" + temp_buf;
                    //context.decodeAudioData(temp_buf, function (buffer) {
 ");
                WriteLiteral(@"                   //    source.buffer = buffer;

                    //    //source.connect(audioCtx.destination);
                    //    //source.loop = true;
                    //},

                    //    function (e) { console.log(""Error with decoding audio data : "" + e.err); });

                } catch (e) {
                    console.log(""error when decoding : "" + e);
                }


            }
            var ms;
            var mediaSource = new MediaSource();
            //mediaSource.addEventListener('sourceopen', callback, false);
            document.getElementById('listen_desktop').onclick = function () {
                //ms = new MediaSource();
                //var audio = document.querySelector('audio');
                //audio.src = window.URL.createObjectURL(ms);
                //console.log(""open the market"");
                //var audioelement = document.getElementById('audiotag');
                //audioelement.src = ""https://localhost:44317/"";
 ");
                WriteLiteral(@"               init_audio_context();

                console.log(""created audio context !"");
                //ms.addEventListener('sourceopen', function (e) {

                //    var sourceBuffer = ms.addSourceBuffer('application/octet-stream');
                //    sourceBuffer.appendBuffer(temp_buf);

                //}, false);
                connection.invoke(""listen_desktop_hub"");

            }
            var bool = true;
            var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            connection.on('stream_client', function (data) {
                //console.log(data);
                if (bool) {
                    var audioelement = document.getElementById('audiotag');
                    audioelement.src = ""data:audio/wav;base64,"" + data;
                    bool = false;
                }
                
               
                


                //try {
                //    do {
                //        temp_buf = temp");
                WriteLiteral(@"_buf + data;

                //    } while (temp_buf.length < 1000000)
                //    //console.log(temp_buf);
                //}

                //catch (e) {
                //    console.log(e);
                //}
            });


            NUM_CHUNKS = 5;
            function callback(e) {
                var sourceBuffer = mediaSource.addSourceBuffer('audio/wav;');

                logger.log('mediaSource readyState: ' + this.readyState);


                var file = new Blob([temp_buf], { type: 'audio/wav' });
                var chunkSize = Math.ceil(file.size / NUM_CHUNKS);

                logger.log('num chunks:' + NUM_CHUNKS);
                logger.log('chunkSize:' + chunkSize + ', totalSize:' + file.size);

                // Slice the video into NUM_CHUNKS and append each to the media element.
                var i = 0;

                (function readChunk_(i) {
                    var reader = new FileReader();

                    // Reads aren't gu");
                WriteLiteral(@"aranteed to finish in the same order they're started in,
                    // so we need to read + append the next chunk after the previous reader
                    // is done (onload is fired).
                    reader.onload = function (e) {
                        sourceBuffer.appendBuffer(new Uint8Array(e.target.result));
                        logger.log('appending chunk:' + i);
                        if (i == NUM_CHUNKS - 1) {
                            mediaSource.endOfStream();
                        } else {
                            if (video.paused) {
                                video.play(); // Start playing after 1st chunk is appended.
                            }
                            readChunk_(++i);
                        }
                    };

                    var startByte = chunkSize * i;
                    var chunk = file.slice(startByte, startByte + chunkSize);

                    reader.readAsArrayBuffer(chunk);
                })(i); ");
                WriteLiteral(@" // Start the recursive call by self calling.

            }





            //connection.on('stream_client', function (data) {
            //    console.log(data);

            //    try {
            //        do {
            //            temp_buf = temp_buf + data;

            //        } while (temp_buf.length < 1000000)
            //        //console.log(temp_buf);
            //    }

            //    catch (e) {
            //        console.log(e);
            //    }


            //var reader = new FileReader();
            //reader.readAsArrayBuffer(data);
            //console.log(reader.result);
            //var encodedData = data;
            //var source = null;
            //var audioBuffer = null;
            //console.log(""raw data : "" + data);
            ////console.log(""encoded data : "" + encodedData);
            ////console.log(typeof (data))
            //data = base64ToBuffer(data)
            //context.decodeAudioData(data, function (buffer) {");
                WriteLiteral(@"
            //    // audioBuffer is global to reuse the decoded audio later.
            //    audioBuffer = buffer;

            //}, function (e) {
            //    console.log('Error decoding file', e);
            //    });
            //source = context.createBufferSource();
            //source.buffer = audioBuffer;
            //source.loop = false;
            //source.connect(context.destination);
            //source.start(0); // Play immediately.


            //try {
            //    //playByteArray(data);

            //    //var myArrayBuffer = context.createBuffer(2, context.sampleRate * 3, context.sampleRate);
            //}
            //catch (error) {
            //    console.error(error);
            //    // expected output: ReferenceError: nonExistentFunction is not defined
            //    // Note - error messages will vary depending on browser
            //}
            //// ! ! !  Uncaught (in promise) DOMException ! ! !  !

            //var myArrayBu");
                WriteLiteral(@"ffer = context.createBuffer(2, context.sampleRate * 3, context.sampleRate);

            ////// Fill the buffer with white noise;
            ////// just random values between -1.0 and 1.0

            ////console.log(""data after conversion : "" + data);

            //for (var channel = 0; channel < 2; channel++) {
            //    // This gives us the actual array that contains the data
            //    var nowBuffering = myArrayBuffer.getChannelData(channel);
            //    for (var i = 0; i < myArrayBuffer.length; i++) {
            //    //    // Math.random() is in [0; 1.0]
            //    //    // audio needs to be in [-1.0; 1.0]
            //        nowBuffering[i] = data[i];//Math.random() * 2 - 1;
            //    }
            //    nowBuffering =  context.decodeAudioData(data);
            //}

            ////// Get an AudioBufferSourceNode.
            ////// This is the AudioNode to use when we want to play an AudioBuffer
            //var source = context.createBuff");
                WriteLiteral(@"erSource();

            ////// set the buffer in the AudioBufferSourceNode
            //source.buffer = myArrayBuffer;
            ////source.buffer = nowBuffering;

            ////// connect the AudioBufferSourceNode to the
            ////// destination so we can hear the sound
            //source.connect(context.destination);

            //// start the source playing
            //try {
            //    //playByteArray(data);
            //    source.start();
            //    //var myArrayBuffer = context.createBuffer(2, context.sampleRate * 3, context.sampleRate);
            //}
            //catch (error) {
            //    console.error(error);
            //    // expected output: ReferenceError: nonExistentFunction is not defined
            //    // Note - error messages will vary depending on browser
            //}





            // });


            // Transport fallback functionality is now built into start.
            connection.start()
                ");
                WriteLiteral(@".then(function () {
                    console.log('connection started');
                    document.getElementById('sendmessage').addEventListener('click', function (event) {
                        // Call the Send method on the hub.
                        connection.invoke('send', name, messageInput.value);
                        // Clear text box and reset focus for next comment.
                        messageInput.value = '';
                        messageInput.focus();
                        event.preventDefault();
                    });
                })
                .catch(error => {
                    console.error(error.message);
                });
        });
    </script>
");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(19462, 11, true);
            WriteLiteral("\r\n</html>\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
